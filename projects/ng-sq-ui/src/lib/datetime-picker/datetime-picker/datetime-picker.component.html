<div class="datetime-picker-wrapper">
  <div class="period-section">
    <button type="button" (click)="previous()" class="change-period prev">
      <i class="fa fa-chevron-left"></i>
    </button>

    <div>
      <button type="button"
              class="month-name"
              (click)="showMonthsPicker()"
              *ngIf="!isMonthsPickerEnabled && !isYearsPickerEnabled">
        <strong class="period-name">{{ currentMonth.format('MMMM') }}</strong>
      </button>

      <button type="button"
              (click)="showYearsPicker()"
              *ngIf="!isYearsPickerEnabled">
        <strong class="period-name">{{ currentMonth.format('YYYY') }}</strong>
      </button>

      <strong class="period-name" *ngIf="isYearsPickerEnabled">
        {{ yearsList[0].displayName + ' - ' + yearsList[yearsList.length - 1].displayName }}
      </strong>
    </div>

    <button type="button" (click)="next()" class="change-period next">
      <i class="fa fa-chevron-right"></i>
    </button>
  </div>

  <div class="display-flex space-between wrap">
    <ng-template [ngIf]="isMonthsPickerEnabled">
      <div *ngFor="let month of months" (click)="selectMonth(month)" class="picker-item">
        {{ month.displayName }}
      </div>
    </ng-template>

    <ng-template [ngIf]="isYearsPickerEnabled">
      <div *ngFor="let year of yearsList" (click)="selectYear(year)" class="picker-item">
        {{ year.displayName }}
      </div>
    </ng-template>
  </div>

  <table class="datetime-picker" *ngIf="!isMonthsPickerEnabled && !isYearsPickerEnabled">
    <thead>
      <tr>
        <th *ngFor="let day of weekdays" class="heading">
          <span class="text">{{day}}</span>
        </th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let dateRow of calendar" class="row">
        <td *ngFor="let date of dateRow"
            class="cell"
            (click)="onDateClick(date)"
            [ngClass]="{'beyond-current-period': date.relativityToCurrentMonth !== calendarPeriodRelativity.Current,
                        'selected': date.isSelected,
                        'disabled': date.isDisabled}">
          {{ date.displayDate }}
        </td>
      </tr>
    </tbody>
  </table>
</div>
